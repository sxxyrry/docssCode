# update 事件 - 下载进度更新

## 事件特征

***update*** 事件在下载过程中定期触发，源码中用于传输进度相关的核心数值。

- **事件类型**：***update***
- **触发时机**：下载过程中定期触发
- **触发频率**：高频触发，取决于下载速度和实现的上报节流策略

## Event 字段信息

```json
{
    "Type": "update",
    "ID": "任务ID"
}
```

## Msg 字段信息（源码实际发送）

源码核心的进度结构 ***ProgressEvent*** 仅包含如下字段：

```json
{
    "Total": 123456789,     // 总字节数
    "Downloaded": 2345678   // 已下载字节数
}
```

### 建议接收方处理

1. 将 ***Total*** 与 ***Downloaded*** 用于计算进度百分比，避免依赖已移除或非稳定字段（例如 ***Speed***）。
2. 对高频事件做节流或防抖，避免过度刷新 UI 或日志。
3. 在并行下载场景下，通过 ***ID*** 或 ***ShowName*** 关联具体任务的进度。
